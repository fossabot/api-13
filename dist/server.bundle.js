!function(e){var t={};function s(o){if(t[o])return t[o].exports;var r=t[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=t,s.d=function(e,t,o){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:o})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(s.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)s.d(o,r,function(t){return e[t]}.bind(null,r));return o},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="",s(s.s=4)}([function(e,t){e.exports=require("express")},function(e,t){e.exports=require("dotenv")},function(e,t,s){const o=s(3);e.exports.verifyKey=((e,t)=>new Promise((s,r)=>{o.ref(e+"/"+t).on("value",e=>{const t=e.val();t&&!0===t.Activ?s(!0):s(!1)},e=>{r(new Error(`API Key Checking Failed! ${e}`))})}))},function(e,t,s){s(1).config();const o=s(10),r={apiKey:process.env.FIREBASE_KEY,authDomain:"verify-8a73f.firebaseapp.com",databaseURL:"https://verify-8a73f.firebaseio.com",projectId:"verify-8a73f",storageBucket:"verify-8a73f.appspot.com",messagingSenderId:"612769697074"};o.initializeApp(r),e.exports=o.database()},function(e,t,s){const o=s(5),r=process.env.PORT||3e3,n=o.listen(r);e.exports={app:o,server:n,port:r}},function(e,t,s){s(1).config();const o=s(0)(),r=s(6);o.enable("trust proxy");const n=r({windowMs:9e5,max:1e4});o.use(n);const u=s(7);o.use(u(process.env.TRACKING_ID));const a=s(8);o.use("/status",a);const i=s(11);o.use("/github",i);const c=s(14);o.use("/ping",c);const p=s(15);o.use("/",p);const f=s(16);o.use("/keys",f);const d=s(17);o.use("/redirect",d),e.exports=o},function(e,t){e.exports=require("express-rate-limit")},function(e,t){e.exports=require("express-ga-middleware")},function(e,t,s){const o=s(0).Router(),r=s(9),{verifyKey:n}=s(2),u=process.env.SERVICE;o.get("/:key/:host",async(e,t)=>{const s=e.params.key,o=e.params.host;await n(u,s)?o?await r(o)?t.status(200).json({status:200,message:"The Host is up!"}):t.status(503).json({status:503,message:"The Host is down!"}):t.status(404).json({status:404,error:[{code:404,source:{pointer:e.headers.host+"/"+e.url},title:"Host not found",detail:"Did you used the correct URL?"}]}):t.status(401).json({status:401,error:[{code:401,source:{pointer:e.headers.host+"/"+e.url},title:"Authentication failed",detail:"Did you used your API Key?"}]})}),e.exports=o},function(e,t){e.exports=require("is-reachable")},function(e,t){e.exports=require("firebase")},function(e,t,s){const o=s(0).Router();o.get("/",(e,t)=>{t.redirect("https://github.com/GruselhausOrganization/api")});const r=s(12);o.get("/lastCommit/:username/:repo/:branch",async(e,t)=>{const s=`/repos/${e.params.username}/${e.params.repo}/commits/${e.params.branch}`,o=await r.request(`GET ${s}`);t.status(200).json(o.data)}),e.exports=o},function(e,t,s){const o=s(13);e.exports=new o({auth:{username:process.env.OCTO_USERNAME,password:process.env.OCTO_PASSWORD}})},function(e,t){e.exports=require("@octokit/rest")},function(e,t,s){const o=s(0).Router();o.get("/",(e,t)=>{t.status(200).json({status:200,message:"Pong!"})}),e.exports=o},function(e,t,s){const o=s(0).Router();o.get("/",(e,t)=>{t.redirect("https://github.com/GruselhausOrganization/api")}),e.exports=o},function(e,t,s){const o=s(0).Router(),r=s(3),{verifyKey:n}=s(2),u=process.env.SERVICE;o.get("/:key",async(e,t)=>{const s=e.params.key;if(await n(u,s)){r.ref("/").on("value",e=>{const s=e.val();t.status(200).json(s)})}else t.status(401).json({status:401,error:[{code:401,source:{pointer:e.headers.host+"/"+e.url},title:"Authentication failed",detail:"Did you used your API Key?"}]})}),e.exports=o},function(e,t,s){const o=s(0).Router();o.get("/:url",(e,t)=>{const s=e.params.url;s?t.redirect(s):t.status(404).write("No url provided!")}),e.exports=o}]);